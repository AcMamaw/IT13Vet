<UserControl x:Class="VeterinarianEMS.Controls.DashboardControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:VeterinarianEMS.Controls"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="1200">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Background="#F0F0F0" Margin="10" Orientation="Vertical">

            <!-- Dashboard Title -->
            <TextBlock Text="Employee Dashboard"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="Black"
                       Margin="5"
                       HorizontalAlignment="Left"/>

            <!-- Top Info Cards -->
            <Grid Margin="0,5,0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Pending Requests -->
                <Border Background="White" CornerRadius="10" BorderBrush="#E35050" BorderThickness="4,0,0,0" Margin="5">
                    <StackPanel Margin="10">
                        <materialDesign:PackIcon Kind="Email" Width="30" Height="30" Foreground="#E35050"/>
                        <TextBlock Text="Pending Requests" FontSize="14" FontWeight="SemiBold" Margin="0,10,0,5"/>
                        <StackPanel Orientation="Vertical">
                            <TextBlock Text="Leave: 0" x:Name="PendingLeaveTextBlock" FontSize="16" FontWeight="SemiBold" Foreground="Black"/>
                            <TextBlock Text="Overtime: 0" x:Name="PendingOvertimeTextBlock" FontSize="16" FontWeight="SemiBold" Foreground="Black"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Days Until Next Payroll -->
                <Border Grid.Column="1" Background="White" CornerRadius="10" BorderBrush="#9B59B6" BorderThickness="4,0,0,0" Margin="5">
                    <StackPanel Margin="10">
                        <materialDesign:PackIcon Kind="CashMultiple" Width="30" Height="30" Foreground="#9B59B6"/>
                        <TextBlock Text="Days Until Next Payroll" FontSize="14" FontWeight="SemiBold" Margin="0,10,0,5"/>
                        <TextBlock Text="5" x:Name="DaysUntilPayrollTextBlock" FontSize="28" FontWeight="Bold" Foreground="Black"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Main Grid -->
            <Grid Margin="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Row 1: Top Attendance & Overtime / Attendance Trend -->
                <Grid Grid.Row="0" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Column: Attendance & Overtime -->
                    <StackPanel Grid.Column="0" Margin="5">
                        <Border Background="White" CornerRadius="10" Padding="10" Margin="0,0,0,10" Height="200">
                            <StackPanel>
                                <TextBlock Text="Top Employees (Attendance)" FontWeight="Bold" FontSize="16" Margin="0,0,0,5"/>
                                <ListBox x:Name="TopAttendanceList" BorderThickness="0" Background="Transparent"/>
                            </StackPanel>
                        </Border>

                        <Border Background="White" CornerRadius="10" Padding="10" Height="194">
                            <StackPanel>
                                <TextBlock Text="Top Employees (Overtime)" FontWeight="Bold" FontSize="16" Margin="0,0,0,5"/>
                                <ListBox x:Name="TopOvertimeList" BorderThickness="0" Background="Transparent"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Right Column: Attendance Trend Chart -->
                    <Border Grid.Column="1" Background="White" CornerRadius="10" Padding="10" Margin="5,5,5,5" Height="400">
                        <StackPanel>
                            <TextBlock Text="Employee Attendance Trend (Aug - Oct)" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <lvc:CartesianChart x:Name="AttendanceTrendChart" LegendLocation="Right" Height="340"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Row 2: Employee Satisfaction / Top Rated Employees -->
                <Grid Grid.Row="1" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Column: Satisfaction -->
                    <Border Grid.Column="0" Background="White" CornerRadius="10" Padding="10" Margin="5" Height="250">
                        <StackPanel>
                            <TextBlock Text="Employee Satisfaction" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <TextBlock Text="Distribution of employee satisfaction levels" FontStyle="Italic" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                            <lvc:PieChart x:Name="EmployeeSatisfactionChart" Height="180"/>
                        </StackPanel>
                    </Border>

                    <!-- Right Column: Top Rated Employees -->
                    <Border Grid.Column="1" Background="White" CornerRadius="10" Padding="10" Margin="5" Height="250">
                        <StackPanel>
                            <TextBlock Text="Top Rated Employees" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <TextBlock Text="Based on performance ratings" FontStyle="Italic" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                            <ListBox x:Name="TopRatedEmployeesList" BorderThickness="0" Background="Transparent"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Row 3: On Time/Late / On Leave & Pending Leave -->
                <Grid Grid.Row="2" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Column: On Time / Late -->
                    <Border Grid.Column="0" Background="White" CornerRadius="10" Padding="10" Margin="5">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <StackPanel Margin="0,0,20,0">
                                <TextBlock Text="On Time" FontWeight="SemiBold"/>
                                <TextBlock x:Name="OnTimeEmployeesText" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock Text="Late Today" FontWeight="SemiBold"/>
                                <TextBlock x:Name="LateEmployeesText" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Right Column: On Leave / Pending -->
                    <Border Grid.Column="1" Background="White" CornerRadius="10" Padding="10" Margin="5">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <StackPanel Margin="0,0,20,0">
                                <TextBlock Text="Employees on Leave" FontWeight="SemiBold"/>
                                <TextBlock x:Name="EmployeesOnLeaveText" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock Text="Pending Leave Requests" FontWeight="SemiBold"/>
                                <TextBlock x:Name="PendingLeavesText" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>
